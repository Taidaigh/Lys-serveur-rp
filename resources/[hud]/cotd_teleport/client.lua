local TeleportFromTo = {
	["Maze Bank Building"] = {
		positionFrom = { ['x'] = -77.723, ['y'] = -822.097, ['z'] = 243.385, nom = "Toit - Maze Bank Building"},
		positionTo = { ['x'] = -67.6794, ['y'] = -821.6484, ['z'] = 321.2873, nom = "Decendre - Maze Bank Building"},
	},
	
	["Humane Labs"] = {
		positionFrom = { ['x'] = 3541.7028, ['y'] = 3674.2761, ['z'] = 28.1211, nom = "Decendre - Humane labs"},
		positionTo = { ['x'] = 3541.7314, ['y'] = 3674.2619, ['z'] = 20.9917, nom = "Monter - Humane labs"},
	},
	
	["Bahama Mamas"] = {
		positionFrom = { ['x'] = -1388.6527, ['y'] = -586.1796, ['z'] = 30.2184, nom = "Intérieur - Bahama Mamas"},
		positionTo = { ['x'] = -1387.61, ['y'] = -588.068, ['z'] = 30.3195, nom = "Sortir - Bahama Mamas"},
	},

	["Banque"] = {
		positionFrom = { ['x'] = 255.218, ['y'] = 228.416, ['z'] = 101.583, nom = "Sortie - Banque"},
		positionTo = { ['x'] = 370.997, ['y'] = 252.981, ['z'] = 103.009, nom = "Entrée - Banque"},
	},

	["Banque Blanchisserie"] = {
		positionFrom = { ['x'] = 255.408, ['y'] = 228.835, ['z'] = 106.286, nom = "Entrée - Blanchisserie"},
		positionTo = { ['x'] = 1138.094, ['y'] = -3199.096, ['z'] = -39.265, nom = "Sortie - Banque"},
	},
	
    ["Bureau du Gouverneur"] = {
		positionFrom = { ['x'] = -429.23803710938, ['y'] = 1109.8786621094, ['z'] = 327.682, nom = "Entrer - Bureau du Gouv"},
		positionTo = { ['x'] = -141.662, ['y'] = -620.935, ['z'] = 168.820, nom = "Sortir - Bureau du Gouv"},
	},
	
	--["Gouvernement 2ème"] = {
	--	positionFrom = { ['x'] = 147.68125915527, ['y'] = -738.14776611328, ['z'] = 242.1507317627, nom = "Bureau Gouverneur"},
	--	positionTo = { ['x'] = 117.13682556152, ['y'] = -737.26239013672, ['z'] = 258.15209960938, nom = "Bureau FIB"},
	--},

	["Bureau Avocat"] = {
		positionFrom = { ['x'] = -1898.1942138672, ['y'] = -572.74584960938, ['z'] = 11.836930, nom = "Entrer - Cabinet"},
		positionTo = { ['x'] = -1902.887207, ['y'] = -573.23669433594, ['z'] = 19.097221096558, nom = "Sortir - Cabinet"},
	},
	
	--["Salle de Réunion"] = {
		--positionFrom = { ['x'] = 140.28009033203, ['y'] = -744.6215209, ['z'] = 242.151992797, nom = "Entrer - Salle de Réunion"},
		--positionTo = { ['x'] = 140.89990844727, ['y'] = -731.2551, ['z'] = 242.151992797, nom = "Sortir - Salle de Réunion"},
	--},
	
	["Arcadius Buisiness"] = {
		positionFrom = { ['x'] = -117.2135, ['y'] = -604.5497, ['z'] = 36.2807, nom = "Monter - Arcadius Buisiness"},
		positionTo = { ['x'] = -134.0843, ['y'] = -584.5471, ['z'] = 201.7355, nom = "Decendre - Arcadius Buisiness"},
	},	
	
	--["Bureau du FIB"] = {
		--positionFrom = { ['x'] = 136.0994, ['y'] = -761.8452, ['z'] = 45.7520, nom = "Monter - Bureau du FIB"},
		--positionTo = { ['x'] = 136.7892, ['y'] = -761.4996, ['z'] = 242.1518, nom = "Decendre - Bureau du FIB"},
	--},
	
	--["Hôpital - Entrer - sortir"] = {
		--positionFrom = { ['x'] = -497.2229, ['y'] = -335.9371, ['z'] = 34.5017, nom = "Entrer - Hôpital"},
		--positionTo = { ['x'] = 275.6354, ['y'] = -1361.6866, ['z'] = 24.5167, nom = "Sortir - Hôpital"},
	--},
	
	["Piscine - Gouverneur"] = {
		positionFrom = { ['x'] = -168.929, ['y'] = 476.709, ['z'] = 133.896, nom = "Interieur"},
		positionTo = { ['x'] = -166.016, ['y'] = 478.774, ['z'] = 133.843, nom = "Exterieur"},
	},
	
	["Bureau - Avocat"] = {
		positionFrom = { ['x'] = -1898.1942138672, ['y'] = -572.74584960938, ['z'] = 11.836930, nom = "Entrer - Cabinet"},
		positionTo = { ['x'] = -1902.887207, ['y'] = -573.23669433594, ['z'] = 19.097221096558, nom = "Sortir - Cabinet"},
	},
	
	--["Life invader - Réunion"] = {
	--	positionFrom = { ['x'] = -1048.93, ['y'] = -238.589, ['z'] = 44.0211, nom = "Entrer - Salle de réunion"},
	--	positionTo = { ['x'] = -1046.62, ['y'] = -237.523, ['z'] = 44.0211, nom = "Sortir - Salle de réunion"},
	--},
	
	--["Life invader - Brainstorming"] = {
	--	positionFrom = { ['x'] = -1056.73, ['y'] = -237.844, ['z'] = 44.0212, nom = "Entrer - Salle de brainstorming"},
	--	positionTo = { ['x'] = -1057.85, ['y'] = -235.752, ['z'] = 44.0212, nom = "Sortir - Salle de brainstorming"},
	--},
	
--	["Poste de police - Armurie"] = {
--		positionFrom = { ['x'] = 452.227, ['y'] = -982.609, ['z'] = 30.6896, nom = "Entrer - Armurie"},
--		positionTo = { ['x'] = 454.494, ['y'] = -982.571, ['z'] = 30.6896, nom = "Sortir - Armurie"},
--	},
	
	["Agence de détective - Bureau"] = {
		positionFrom = { ['x'] = -1011.65, ['y'] = -480.061, ['z'] = 39.9706, nom = "Entrer - Agence de détective"},
		positionTo = { ['x'] = -1002.81, ['y'] = -477.794, ['z'] = 50.0273, nom = "Sortir - Agence de détective"},
	},	
	
    ["Mont Chiliad - Telecabine"] = {
	    positionFrom = { ['x'] = -741.738, ['y'] = 5595.22, ['z'] = 41.6546, nom = "Entrer - Cabine"},
		positionTo = { ['x'] = 446.051, ['y'] = 5572.32, ['z'] = 781.189, nom = "Sortir - Cabine"},
	},	
	
	["offshore-production"] = {
		positionFrom = { ['x'] = 1240.741088, ['y'] = -3002.878173, ['z'] = 9.129263, nom = "Entrer - Offshore-production"},
		positionTo = { ['x'] = 13634.813476563, ['y'] = 9965.7080078125, ['z'] = 33.883720397949, nom = "sortir - Offshore-production"},
	},

	--["Récolte Weed"] = {
	--	positionFrom = { ['x'] = 2806.32592, ['y'] = 5978.6127, ['z'] = 350.604193, nom = ""},
	--	positionTo = { ['x'] = 1063.602905, ['y'] = -3182.498779, ['z'] = -39.062986, nom = ""},
	--},

	--["Transfo Meth"] = {
	--	positionFrom = { ['x'] = 1236.3814,['y'] = -650.8515, ['z']= 38.441, nom = ""},
	--	positionTo = { ['x'] = 998.151428, ['y'] = -3200.103027, ['z'] = -36.393623, nom = ""},
	--},

	--["Transfo Coke"] = {
	--	positionFrom = { ['x'] = 887.289794, ['y'] = -953.441223, ['z'] = 39.113142, nom = ""},
	--	positionTo = { ['x'] = 1088.854980, ['y'] = -3188.458740, ['z'] = -38.99347, nom = ""},
	--},

	["Bar"] = {
		positionFrom = { ['x'] = 110.973937, ['y'] = -1302.780395, ['z'] = 29.029510, nom = "Bar"},
		positionTo = { ['x'] = 126.4743576, ['y'] = -1278.53625, ['z'] = 29.0295503, nom = ""},
	},

	["Sortie de Secours"] = {
		positionFrom = { ['x'] = 1136.898193, ['y'] = -3311.714599, ['z'] = 5.708724, nom = ""},
		positionTo = { ['x'] = 1125.127075, ['y'] = -3303.785888, ['z'] = 5.69905, nom = ""},
	},	

	--["Bunker"] = {
	--	positionFrom = { ['x'] = -480.692, ['y'] = 6266.297, ['z'] = 12.334, nom = ""},
	--	positionTo = { ['x'] = 892.6384, ['y'] = -3245.8664, ['z'] = -98.2645, nom = ""},
	--},

	--["ClubHouse"] = {
	--	positionFrom = { ['x'] = 1020.1312, ['y'] = -3023.0571, ['z'] = 5.708724, nom = ""},
	--	positionTo = { ['x'] = 1107.04, ['y'] = -3157.399, ['z'] = -37.51859, nom = ""},
	--},

	--["FauxBillets"] = {
	--	positionFrom = { ['x'] = 591.845, ['y'] = 2782.87, ['z'] = 43.08, nom = ""},
	--	positionTo = { ['x'] = 1121.897, ['y'] = -3195.338, ['z'] = -40.4025, nom = ""},
	--}, 

	--["FauxPapiers"] = {
	--	positionFrom = { ['x'] = 1020.5697, ['y'] = -2987.1035, ['z'] = 5.9010, nom = ""},
	--	positionTo = { ['x'] = 1165.0021, ['y'] = -3196.601, ['z'] = -39.01306, nom = ""},
	--}, 

	--["WareHouse"] = {
		--positionFrom = { ['x'] = 1020.6148, ['y'] = -2977.0063, ['z'] = 5.9010, nom = ""},
		--positionTo = { ['x'] = 1006.967, ['y'] = -3102.079, ['z'] = -39.0035, nom = ""},
	--},

	--["ClubHouse"] = {
		--positionFrom = { ['x'] = 1020.2537, ['y'] = -2971.1086, ['z'] = 5.9010, nom = ""},
		--positionTo = { ['x'] = 1107.04, ['y'] = -3157.399, ['z'] = -37.51859, nom = ""},
	--},	

	["Mecano"] = {
		positionFrom = { ['x'] = -207.278, ['y'] = -1341.702, ['z'] = 33.894, nom = "Bureau Patron - Entrée"},
		positionTo = { ['x'] = -205.097, ['y'] = -1341.502, ['z'] = 33.89, nom = "Bureau Patron - Sortir"},
	}, 
}	




Drawing = setmetatable({}, Drawing)
Drawing.__index = Drawing


function Drawing.draw3DText(x,y,z,textInput,fontId,scaleX,scaleY,r, g, b, a)
    local px,py,pz=table.unpack(GetGameplayCamCoords())
    local dist = GetDistanceBetweenCoords(px,py,pz, x,y,z, 1)

    local scale = (1/dist)*10
    local fov = (1/GetGameplayCamFov())*100
    local scale = scale*fov

    SetTextScale(scaleX*scale, scaleY*scale)
    SetTextFont(fontId)
    SetTextProportional(1)
    SetTextColour(r, g, b, a)
    SetTextDropshadow(0, 0, 0, 0, 255)
    SetTextEdge(2, 0, 0, 0, 150)
    SetTextDropShadow()
    SetTextOutline()
    SetTextEntry("STRING")
    SetTextCentre(1)
    AddTextComponentString(textInput)
    SetDrawOrigin(x,y,z+2, 0)
    DrawText(0.0, 0.0)
    ClearDrawOrigin()
end

function Drawing.drawMissionText(m_text, showtime)
    ClearPrints()
    SetTextEntry_2("STRING")
    AddTextComponentString(m_text)
    DrawSubtitleTimed(showtime, 1)
end

function msginf(msg, duree)
    duree = duree or 300
    ClearPrints()
    SetTextEntry_2("STRING")
    AddTextComponentString(msg)
    DrawSubtitleTimed(duree, 1)
end

Citizen.CreateThread(function()
	while true do
		Citizen.Wait(2)
		local pos = GetEntityCoords(GetPlayerPed(-1), true)
		
		for k, j in pairs(TeleportFromTo) do
		
			--msginf(k .. " " .. tostring(j.positionFrom.x), 15000)
			if(Vdist(pos.x, pos.y, pos.z, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z) < 2.0)then
				DrawMarker(23, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
				if(Vdist(pos.x, pos.y, pos.z, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z) < 1.0)then
					Drawing.draw3DText(j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1.100, j.positionFrom.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
					if(Vdist(pos.x, pos.y, pos.z, j.positionFrom.x, j.positionFrom.y, j.positionFrom.z) < 1.0)then
						ClearPrints()
						SetTextEntry_2("STRING")
						AddTextComponentString("Appuyez sur la touche ~r~E~w~ pour ".. j.positionFrom.nom)
						DrawSubtitleTimed(1000, 1)
						if IsControlJustPressed(1, 38) then
							DoScreenFadeOut(1000)
							Citizen.Wait(2500)
							SetEntityCoords(GetPlayerPed(-1), j.positionTo.x, j.positionTo.y, j.positionTo.z - 1)
							DoScreenFadeIn(1000)
						end
					end
				end
			end
			
			if(Vdist(pos.x, pos.y, pos.z, j.positionTo.x, j.positionTo.y, j.positionTo.z) < 2.0)then
				DrawMarker(23, j.positionTo.x, j.positionTo.y, j.positionTo.z - 1, 0, 0, 0, 0, 0, 0, 1.0001, 1.0001, .801, 255, 255, 255,255, 0, 0, 0,0)
				if(Vdist(pos.x, pos.y, pos.z, j.positionTo.x, j.positionTo.y, j.positionTo.z) < 1.0)then
					Drawing.draw3DText(j.positionTo.x, j.positionTo.y, j.positionTo.z - 1.100, j.positionTo.nom, 1, 0.2, 0.1, 255, 255, 255, 215)
					if(Vdist(pos.x, pos.y, pos.z, j.positionTo.x, j.positionTo.y, j.positionTo.z) < 1.0)then
						ClearPrints()
						SetTextEntry_2("STRING")
						AddTextComponentString("Appuyez sur la touche ~r~E~w~ pour ".. j.positionTo.nom)
						DrawSubtitleTimed(1000, 1)
						if IsControlJustPressed(1, 38) then
							DoScreenFadeOut(1000)
							Citizen.Wait(2500)
							SetEntityCoords(GetPlayerPed(-1), j.positionFrom.x, j.positionFrom.y, j.positionFrom.z - 1)
							DoScreenFadeIn(1000)
						end
					end
				end
			end
		end
	end
end)